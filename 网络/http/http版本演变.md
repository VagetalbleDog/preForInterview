# http1.1 相比较于 http1.0 有哪些改进和区别？

  - TCP连接复用：
    http1.0 默认非持久连接，每次请求后断开tcp连接，http1.1 通过使用持久连接使多个http请求复用同一个TCP连接

  - 范围请求：
    http1.1 支持范围请求，倘若我们只需要请求资源的某个部分，可以在请求头中加入 range 字段，请求资源的一部分，返回206状态码，防止浪费带宽的现象。

  - 缓存方面：
    使用etag控制协商缓存，使用cache-control控制强缓存

  - 新增特性：    
    新增host字段、新增PUT、HEAD、OPTIONS 等请求方法

# http2.0 相比较于 http1.1 有哪些改进和区别？

  - 二进制：
    http1.1 中 报文的头信息必须是 asc编码的文本，数据体可以是文本，可以是二进制。http2.0 彻底采用二进制，分为头信息帧和数据帧。帧的概念是实现多路复用的基础

  - 多路复用：
    http2.0 虽然仍然复用tcp连接，但与http1.1不同，实现了多路复用，客户端和服务端都可以同时发送多个请求或回应，避免了`队头堵塞`的问题

  - 数据流：
    http2.0 的数据包是不按顺序发送的，一个tcp连接里的数据包可能属于不同的请求，因此，需要对数据包做标记，指出它属于哪个请求。在http2中，将每个请求或响应中的所有数据包成为一个数据流。每个数据流有一个独一无二的编号，在发送数据包时，需要用这个编号进行标记

  - 头信息压缩：
    http是无状态的协议，每次请求都必须带上很多头信息，例如cookie。http2针对这点做了优化，一方面对头信息进行压缩后发送，另一方面，服务端和客户端会共同维护一个头信息表，第一次请求后，所有字段会存入这个表，后续请求时，只需要发送索引号就可以了

  - 服务器推送：
    服务器空闲状态下，http2.0 允许服务器主动向客户端推送信息。
    
# http3.0 相比较于 http2.0 的区别？

  **http2主要有以下缺点：**

    - 队头堵塞，http2虽然实现了多路复用，但http2毕竟还是基于TCP的，TCP是基于字节流的协议，一旦前面发生丢包，后面的包都将无法处理，从http层面看，就是队头堵塞了

    - 连接时延的问题，http2需要TCP三次握手+TLS四次握手，至少需要3个RTT的时延

    - 网络迁移，需要重新连接，很麻烦
  

  **http3.0是基于quic协议的udp**

    - 无队头阻塞，QUIC 连接上的多个 Stream 之间并没有依赖，都是独立的，也不会有底层协议限制，某个流发生丢包了，只会影响该流，其他流不受影响；

    - 建立连接速度快，因为 QUIC 内部包含 TLS1.3，因此仅需 1 个 RTT 就可以「同时」完成建立连接与 TLS 密钥协商，甚至在第二次连接的时候，应用数据包可以和 QUIC 握手信息（连接信息 + TLS 信息）一起发送，达到 0-RTT 的效果。

    - 连接迁移，QUIC 协议没有用四元组的方式来“绑定”连接，而是通过「连接 ID 」来标记通信的两个端点，客户端和服务器可以各自选择一组 ID 来标记自己，因此即使移动设备的网络变化后，导致 IP 地址变化了，只要仍保有上下文信息（比如连接 ID、TLS 密钥等），就可以“无缝”地复用原连接，消除重连的成本；


